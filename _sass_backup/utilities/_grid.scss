// Modern CSS Grid System
// Replaces Neat 1.7.2 grid mixins with native CSS Grid
// Maintains 12-column layout compatibility

// Grid settings (matching Neat defaults)
$grid-columns: 12 !default;
$grid-gap: 2em !default;
$max-width: 68em !default; // ~1088px at 16px base

// Container mixin
// Replaces @include outer-container
//
// Usage:
//   @include container;
//   @include container(60em);
//
// Original Neat usage:
//   @include outer-container;
//   @include outer-container(max-width);
@mixin container($width: $max-width) {
  max-width: $width;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1em;
  padding-right: 1em;
}

// Older name for backwards compatibility during migration
@mixin outer-container($width: $max-width) {
  @include container($width);
}

// Grid parent mixin
// Sets up a CSS Grid container
//
// Usage:
//   @include grid-container;
//   @include grid-container(16); // 16 columns
//
@mixin grid-container($columns: $grid-columns, $gap: $grid-gap) {
  display: grid;
  grid-template-columns: repeat($columns, 1fr);
  gap: $gap;
}

// Span columns mixin
// Replaces @include span-columns(n)
//
// Usage:
//   @include span-columns(6);    // Spans 6 of 12 columns
//   @include span-columns(3);    // Spans 3 of 12 columns
//   @include span-columns(12);   // Full width
//
// Original Neat usage:
//   @include span-columns(6);
//   @include span-columns(3);
//
// Important: Parent element must use display: grid
// This mixin sets grid-column property on children
@mixin span-columns($columns) {
  grid-column: span $columns;
}

// Clearfix replacement
// Modern browsers support display: flow-root natively
// No mixin needed - just use: display: flow-root;
//
// Original Bourbon usage:
//   @include clearfix;
//
// Modern replacement:
//   display: flow-root;

// Grid helper: Make element a grid parent with auto-columns
// Useful for simple layouts where you want items to span full width by default
@mixin grid-auto {
  display: grid;
  gap: $grid-gap;
  // Each direct child spans full width by default
  // Can be overridden with span-columns() on individual children
}

// Flexbox alternative for simple row layouts
// Use when you don't need precise column control
@mixin flex-row($gap: $grid-gap) {
  display: flex;
  flex-wrap: wrap;
  gap: $gap;
}

// Responsive grid helper
// Creates a grid that adapts column count based on item width
//
// Usage:
//   @include responsive-grid(250px); // Min column width 250px
@mixin responsive-grid($min-column-width: 250px, $gap: $grid-gap) {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax($min-column-width, 1fr));
  gap: $gap;
}
